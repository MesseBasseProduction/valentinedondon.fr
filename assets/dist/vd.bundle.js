!function(){"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var i=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._mainScroll=null,this._version="1.0.0",this._buildPage().then(this._events.bind(this)).then(this._finalizeInit.bind(this)).catch((function(e){console.error("valentinedondon.fr v".concat(t._version," : Fatal error during initialization, please contact support :\n"),e)})).finally((function(){}))},t=[{key:"_buildPage",value:function(){var e=this;return new Promise((function(t){document.querySelector("#info-modal").addEventListener("click",e._infoModal.bind(e)),t()}))}},{key:"_events",value:function(){document.getElementById("modal-overlay").addEventListener("click",this._closeModal.bind(this)),document.getElementById("nav-about").addEventListener("click",this._scrollToView.bind(this)),document.getElementById("nav-book").addEventListener("click",this._scrollToView.bind(this)),document.getElementById("nav-contact").addEventListener("click",this._scrollToView.bind(this)),document.getElementById("bw-switch").addEventListener("click",this._switchPhotosBW.bind(this));for(var e=document.querySelector("#gallery").children,t=0;t<e.length;++t)e[t].addEventListener("click",this._slideshowModal.bind(this,t))}},{key:"_finalizeInit",value:function(){var e=this;return new Promise((function(t){document.querySelector("#loading-overlay").style.opacity=0,setTimeout((function(){document.querySelector("#loading-overlay").style.display="none",e._mainScroll=new window.ScrollBar({target:document.querySelector("#page-content"),minSize:200,style:{color:"#758C78"}}),requestAnimationFrame((function(){e._mainScroll.updateScrollbar(),t()}))}),400)}))}},{key:"_scrollToView",value:function(e){var t=e.target.id.split("-")[1];document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}},{key:"_switchPhotosBW",value:function(e){for(var t=["vd5","vd2","vd1","vd3","vd7","vd4","vd6","vd8","vd9","vd11","vd10"],n=document.querySelector("#gallery").children,o=0;o<n.length;++o)!0===e.target.checked?n[o].src="./assets/img/photos/".concat(t[o],"-nb.webp"):n[o].src="./assets/img/photos/".concat(t[o],".webp")}},{key:"_infoModal",value:function(){var e=document.getElementById("modal-overlay");fetch("assets/html/infomodal.html").then((function(t){e.style.display="flex",t.text().then((function(t){var n=document.createRange().createContextualFragment(t);e.appendChild(n),setTimeout((function(){return e.style.opacity=1}),50)}))})).catch((function(e){return console.error(e)}))}},{key:"_slideshowModal",value:function(e){var t=this,n=document.getElementById("modal-overlay"),o=document.querySelector("#gallery").children;fetch("assets/html/slideshowmodal.html").then((function(i){n.style.display="flex",i.text().then((function(i){var l=document.createRange().createContextualFragment(i);l.querySelector("#slideshow-image").src=o[e].src;for(var r=e,c=-1,a=function(e){for(var t=n.querySelector("#slide-selector").children,i=0;i<t.length;++i)t[i].classList.remove("selected"),i===e&&t[i].classList.add("selected");n.querySelector("#slideshow-image").src=o[e].src,n.querySelector("#slideshow-image").className=o[e].className,r=e,n.querySelector("#slide-selector").style.opacity=1,clearTimeout(c),c=setTimeout((function(){n.querySelector("#slide-selector").style.opacity=.3}),1e3)},s=0;s<o.length;++s){var d=document.createElement("DIV");d.classList.add("selector"),s===e&&d.classList.add("selected"),d.addEventListener("click",a.bind(t,s)),l.querySelector("#slide-selector").appendChild(d)}l.querySelector("#previous").addEventListener("click",(function(){r=((r-1)%o.length+o.length)%o.length,a(r)})),l.querySelector("#next").addEventListener("click",(function(){r=(r+1)%o.length,a(r)})),n.appendChild(l),setTimeout((function(){return n.style.opacity=1}),50)}))})).catch((function(e){return console.error(e)}))}},{key:"_closeModal",value:function(e){if("modal-overlay"===e.srcElement.id||"close-modal"===e.srcElement.className){var t=document.getElementById("modal-overlay");"flex"===t.style.display&&(t.style.opacity=0,setTimeout((function(){t.innerHTML="",t.style=""}),400))}}}],t&&n(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();e.default=i,window.vd=e.default}();